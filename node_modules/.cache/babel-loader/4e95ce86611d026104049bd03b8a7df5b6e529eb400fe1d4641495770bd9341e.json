{"ast":null,"code":"/**\r\n * @license\r\n * Copyright (c) 2025 Handsoncode. All rights reserved.\r\n */\nimport { ErrorType } from \"../Cell.mjs\";\nimport { MissingTranslationError, ProtectedFunctionTranslationError } from \"../errors.mjs\";\nimport { UIElement } from \"./index.mjs\";\nexport class TranslationPackage {\n  constructor(functions, errors, ui) {\n    this.functions = functions;\n    this.errors = errors;\n    this.ui = ui;\n    this._protectedTranslations = {\n      'VERSION': 'VERSION'\n    };\n    this.checkUI();\n    this.checkErrors();\n    this.checkFunctionTranslations(this.functions);\n    Object.assign(this.functions, this._protectedTranslations);\n  }\n  extendFunctions(additionalFunctionTranslations) {\n    this.checkFunctionTranslations(additionalFunctionTranslations);\n    Object.assign(this.functions, additionalFunctionTranslations);\n  }\n  buildFunctionMapping() {\n    return Object.keys(this.functions).reduce((ret, key) => {\n      ret[this.functions[key]] = key;\n      return ret;\n    }, {});\n  }\n  buildErrorMapping() {\n    return Object.keys(this.errors).reduce((ret, key) => {\n      ret[this.errors[key]] = key;\n      return ret;\n    }, {});\n  }\n  isFunctionTranslated(key) {\n    return this.functions[key] !== undefined;\n  }\n  getFunctionTranslations(functionIds) {\n    const translations = [];\n    for (const functionId of functionIds) {\n      if (this.isFunctionTranslated(functionId)) {\n        translations.push(this.functions[functionId]);\n      }\n    }\n    return translations;\n  }\n  getFunctionTranslation(key) {\n    const val = this.functions[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`functions.${key}`);\n    } else {\n      return val;\n    }\n  }\n  getMaybeFunctionTranslation(key) {\n    return this.functions[key];\n  }\n  getErrorTranslation(key) {\n    if (key === ErrorType.LIC) {\n      return `#${ErrorType.LIC}!`;\n    }\n    const val = this.errors[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`errors.${key}`);\n    } else {\n      return val;\n    }\n  }\n  getUITranslation(key) {\n    const val = this.ui[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`ui.${key}`);\n    } else {\n      return val;\n    }\n  }\n  checkUI() {\n    for (const key of Object.values(UIElement)) {\n      if (!(key in this.ui)) {\n        throw new MissingTranslationError(`ui.${key}`);\n      }\n    }\n  }\n  checkErrors() {\n    for (const key of Object.values(ErrorType)) {\n      if (!(key in this.errors) && key !== ErrorType.LIC) {\n        throw new MissingTranslationError(`errors.${key}`);\n      }\n    }\n  }\n  checkFunctionTranslations(functions) {\n    const functionNames = new Set(Object.getOwnPropertyNames(functions));\n    for (const protectedTranslation of Object.getOwnPropertyNames(this._protectedTranslations)) {\n      if (functionNames.has(protectedTranslation)) {\n        throw new ProtectedFunctionTranslationError(protectedTranslation);\n      }\n    }\n  }\n}\nexport function buildTranslationPackage(rawTranslationPackage) {\n  return new TranslationPackage(Object.assign({}, rawTranslationPackage.functions), Object.assign({}, rawTranslationPackage.errors), Object.assign({}, rawTranslationPackage.ui));\n}","map":{"version":3,"names":["ErrorType","MissingTranslationError","ProtectedFunctionTranslationError","UIElement","TranslationPackage","constructor","functions","errors","ui","_protectedTranslations","checkUI","checkErrors","checkFunctionTranslations","Object","assign","extendFunctions","additionalFunctionTranslations","buildFunctionMapping","keys","reduce","ret","key","buildErrorMapping","isFunctionTranslated","undefined","getFunctionTranslations","functionIds","translations","functionId","push","getFunctionTranslation","val","getMaybeFunctionTranslation","getErrorTranslation","LIC","getUITranslation","values","functionNames","Set","getOwnPropertyNames","protectedTranslation","has","buildTranslationPackage","rawTranslationPackage"],"sources":["C:/spreadsheet-clone/node_modules/hyperformula/es/i18n/TranslationPackage.mjs"],"sourcesContent":["/**\r\n * @license\r\n * Copyright (c) 2025 Handsoncode. All rights reserved.\r\n */\nimport { ErrorType } from \"../Cell.mjs\";\nimport { MissingTranslationError, ProtectedFunctionTranslationError } from \"../errors.mjs\";\nimport { UIElement } from \"./index.mjs\";\nexport class TranslationPackage {\n  constructor(functions, errors, ui) {\n    this.functions = functions;\n    this.errors = errors;\n    this.ui = ui;\n    this._protectedTranslations = {\n      'VERSION': 'VERSION'\n    };\n    this.checkUI();\n    this.checkErrors();\n    this.checkFunctionTranslations(this.functions);\n    Object.assign(this.functions, this._protectedTranslations);\n  }\n  extendFunctions(additionalFunctionTranslations) {\n    this.checkFunctionTranslations(additionalFunctionTranslations);\n    Object.assign(this.functions, additionalFunctionTranslations);\n  }\n  buildFunctionMapping() {\n    return Object.keys(this.functions).reduce((ret, key) => {\n      ret[this.functions[key]] = key;\n      return ret;\n    }, {});\n  }\n  buildErrorMapping() {\n    return Object.keys(this.errors).reduce((ret, key) => {\n      ret[this.errors[key]] = key;\n      return ret;\n    }, {});\n  }\n  isFunctionTranslated(key) {\n    return this.functions[key] !== undefined;\n  }\n  getFunctionTranslations(functionIds) {\n    const translations = [];\n    for (const functionId of functionIds) {\n      if (this.isFunctionTranslated(functionId)) {\n        translations.push(this.functions[functionId]);\n      }\n    }\n    return translations;\n  }\n  getFunctionTranslation(key) {\n    const val = this.functions[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`functions.${key}`);\n    } else {\n      return val;\n    }\n  }\n  getMaybeFunctionTranslation(key) {\n    return this.functions[key];\n  }\n  getErrorTranslation(key) {\n    if (key === ErrorType.LIC) {\n      return `#${ErrorType.LIC}!`;\n    }\n    const val = this.errors[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`errors.${key}`);\n    } else {\n      return val;\n    }\n  }\n  getUITranslation(key) {\n    const val = this.ui[key];\n    if (val === undefined) {\n      throw new MissingTranslationError(`ui.${key}`);\n    } else {\n      return val;\n    }\n  }\n  checkUI() {\n    for (const key of Object.values(UIElement)) {\n      if (!(key in this.ui)) {\n        throw new MissingTranslationError(`ui.${key}`);\n      }\n    }\n  }\n  checkErrors() {\n    for (const key of Object.values(ErrorType)) {\n      if (!(key in this.errors) && key !== ErrorType.LIC) {\n        throw new MissingTranslationError(`errors.${key}`);\n      }\n    }\n  }\n  checkFunctionTranslations(functions) {\n    const functionNames = new Set(Object.getOwnPropertyNames(functions));\n    for (const protectedTranslation of Object.getOwnPropertyNames(this._protectedTranslations)) {\n      if (functionNames.has(protectedTranslation)) {\n        throw new ProtectedFunctionTranslationError(protectedTranslation);\n      }\n    }\n  }\n}\nexport function buildTranslationPackage(rawTranslationPackage) {\n  return new TranslationPackage(Object.assign({}, rawTranslationPackage.functions), Object.assign({}, rawTranslationPackage.errors), Object.assign({}, rawTranslationPackage.ui));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}